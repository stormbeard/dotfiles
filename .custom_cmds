# Tony's custom functions.
# Author: Tony Allen (cyril0allen@gmail.com)

# Highlight text in various output.
function hi {
  egrep --color -i "$1|$" $2
}

# Open jira ticket in Firefox window.
function jira {
  firefox https://jira.nutanix.com/browse/$1
}

# Runs a single ptest
function testone {
  PYTHONPATH=.:$TOP/.python PYTHONUSERBASE=$TOP/.python python -u $TOP/qa/tools/ptest/ptest.py - I $HOME/.ssh/ptest_local_key -m http://uranus.corp.nutanix.com/antibodies/durham_ips.txt -o "- V -R $1"
}                                                                                              
# Run a test directory
alias testdir='PYTHONPATH=.:$TOP/.python PYTHONUSERBASE=$TOP/.python python -u $TOP/qa/tools/ptest/ptest.py -I $HOME/.ssh/ptest_local_key -m http://uranus.corp.nutanix.com/antibodies/durham_ips.txt -o "-V"  -d'

# Make NCC
alias mkncc="FORCE_BUILD_EGG=1; make all_pydeps -j16 && pushd serviceability/license && make -j16       && popd && make ncc-installer -j16"
