# Tony's custom functions.
# Author: Tony Allen (cyril0allen@gmail.com)

# Highlight text in various output.
function hi {
  egrep --color -i "$1|$" $2
}

# Remove IP from known hosts.
function rmkh {
  cat ~/.ssh/known_hosts | grep -v $1 > ~/.ssh/known_hosts
}

# Generate cscope db for rook and open cscope.
function rookcs {
  cdrook &&

  find . -name \*.go | grep -v ./vendor\* > cscope.files &&

  cscope -k -q -pn
}

function klog {
  POD=$1

  for namespace in $(kc get ns | grep -v ^NAME | cut -f1 -d' ')
  do
    output=$(kubectl log $POD -n $namespace 2>/dev/null)
    if [ $? ]
    then
      echo $output
    fi
  done
}
